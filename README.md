# External Sort Library

[![C++20](https://img.shields.io/badge/C++-20-blue.svg?style=flat&logo=c%2B%2B)](https://isocpp.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Bazel](https://img.shields.io/badge/Build-Bazel-76D275.svg)](https://bazel.build/)

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–Ω–µ—à–Ω–µ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤ C++, —Ä–µ–∞–ª–∏–∑—É—é—â–∞—è k-–ø—É—Ç–µ–≤–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–ª–∏—è–Ω–∏—è —Å –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–µ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç—å—é.

##  –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **K-–ø—É—Ç–µ–≤–∞—è –≤–Ω–µ—à–Ω—è—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–∏—è–Ω–∏–µ–º** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –ø–æ–º–µ—â–∞—é—â–∏—Ö—Å—è –≤ –ø–∞–º—è—Ç—å
- **–®–∞–±–ª–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö —Å—Ä–∞–≤–Ω–∏–º—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- **–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞** - —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞–º–∏** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–¶–≤–µ—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∞–¥–∫–∏** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** - comprehensive unit tests —Å Google Test

##  –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **C++20** compatible compiler (GCC 10+, Clang 12+, MSVC 19.29+)
- **Bazel** 6.0+ –¥–ª—è —Å–±–æ—Ä–∫–∏
- **GoogleTest** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è Bazel)

##  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–±–æ—Ä–∫–∞

### –°–±–æ—Ä–∫–∞ —Å –ø–æ–º–æ—â—å—é Bazel

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/yourusername/external-sort-library.git
cd external-sort-library

# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö —Ü–µ–ª–µ–π
bazel build //...

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
bazel test //...

# –°–±–æ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
bazel build //:main_app      # CLI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
bazel build //:demo          # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
bazel build //:external_sort_task  # –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
```

### –°–±–æ—Ä–∫–∞ —É—Ç–∏–ª–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
bazel build //:create_test_input
bazel build //:create_random_test
```

##  –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```cpp
#include "file_stream.hpp"
#include "k_way_merge_sorter.hpp"

int main() {
    using namespace external_sort;
    
    // –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
    FileStreamFactory<uint64_t> factory("temp_sort_dir");
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
    uint64_t memory_limit = 64 * 1024 * 1024;  // 64 MB
    uint64_t k_degree = 16;                     // 16-–ø—É—Ç–µ–≤–æ–µ —Å–ª–∏—è–Ω–∏–µ
    uint64_t buffer_size = 1024;                // —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤—â–∏–∫–∞
    KWayMergeSorter<uint64_t> sorter(
        factory, "input.bin", "output.bin", 
        memory_limit, k_degree, buffer_size, true
    );
    
    sorter.Sort();
    return 0;
}
```

### –†–∞–±–æ—Ç–∞ —Å in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

```cpp
#include "memory_stream.hpp"
#include "k_way_merge_sorter.hpp"

int main() {
    using namespace external_sort;
    
    // In-memory —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    InMemoryStreamFactory<int> factory;
    
    // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    CreateTestDataInStorage(factory, "input", 10000, true);
    
    // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
    KWayMergeSorter<int> sorter(
        factory, "input", "output", 
        32768,  // memory limit
        4,      // k-degree
        256,    // buffer size
        true    // ascending order
    );
    
    sorter.Sort();
    return 0;
}
```

## üîß CLI –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
./bazel-bin/main_app

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
./bazel-bin/main_app input.bin output.bin 128 16 2048 temp_dir

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
./bazel-bin/main_app --help
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `input_file` - –≤—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `input.bin`)
- `output_file` - –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `output.bin`)
- `memory_limit_mb` - –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ –≤ –ú–ë (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `64`)
- `k_degree` - —Å—Ç–µ–ø–µ–Ω—å k-–ø—É—Ç–µ–≤–æ–≥–æ —Å–ª–∏—è–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `16`)
- `io_buffer_elements` - —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –≤ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `1024`)
- `temp_dir` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
./bazel-bin/create_test_input

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
./bazel-bin/create_random_test output.bin 1000000 1 100000
```

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

```bash
# –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π –∏ —Ç–µ—Å—Ç–æ–≤
./bazel-bin/demo
```

##  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
external_sort/
‚îú‚îÄ‚îÄ interfaces.hpp          # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îú‚îÄ‚îÄ k_way_merge_sorter.hpp  # –û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
‚îú‚îÄ‚îÄ file_stream.hpp         # –§–∞–π–ª–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞
‚îú‚îÄ‚îÄ memory_stream.hpp       # In-memory –ø–æ—Ç–æ–∫–∏
‚îú‚îÄ‚îÄ element_buffer.hpp      # –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ temp_file_manager.hpp   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
‚îú‚îÄ‚îÄ debug_logger.hpp        # –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ utilities.hpp           # –£—Ç–∏–ª–∏—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

### –ò–µ—Ä–∞—Ä—Ö–∏—è –∫–ª–∞—Å—Å–æ–≤

```cpp
IStreamFactory<T>
‚îú‚îÄ‚îÄ FileStreamFactory<T>     // –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îî‚îÄ‚îÄ InMemoryStreamFactory<T> // In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

IInputStream<T> / IOutputStream<T>
‚îú‚îÄ‚îÄ FileInputStream<T> / FileOutputStream<T>
‚îî‚îÄ‚îÄ InMemoryInputStream<T> / InMemoryOutputStream<T>

KWayMergeSorter<T>           // –ì–ª–∞–≤–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
ElementBuffer<T>             // –°–∏—Å—Ç–µ–º–∞ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏
TempFileManager              // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
```

##  –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
bazel test //... --test_output=all
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –Ω–∞–±–æ—Ä—ã

```bash
# –¢–µ—Å—Ç—ã –±—É—Ñ–µ—Ä–æ–≤
bazel test //:all_tests --test_filter="ElementBuffer*"

# –¢–µ—Å—Ç—ã —Ñ–∞–π–ª–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
bazel test //:all_tests --test_filter="FileStream*"

# –¢–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
bazel test //:all_tests --test_filter="KWayMergeSorter*"
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç comprehensive —Ç–µ—Å—Ç—ã –¥–ª—è:
-  ElementBuffer - –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
-  FileInputStream/FileOutputStream - —Ñ–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥
-  InMemoryStream - –ø–æ—Ç–æ–∫–∏ –≤ –ø–∞–º—è—Ç–∏
-  TempFileManager - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
-  KWayMergeSorter - –æ—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
-  –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

##  –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –Ω–∞–±–æ—Ä —É–¥–æ–±–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (`scripts/format-code.sh`)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
./scripts/format-code.sh

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
./scripts/format-code.sh --fix

# –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ñ–∞–π–ª–æ–º
./scripts/format-code.sh --file include/file_stream.hpp
./scripts/format-code.sh --fix --file src/main.cpp

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
./scripts/format-code.sh --verbose
```

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (`scripts/run-clang-tidy.sh`)

```bash
# –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ (—Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –≤ —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞)
./scripts/run-clang-tidy.sh

# –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
./scripts/run-clang-tidy.sh --auto-fix

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
./scripts/run-clang-tidy.sh --fix

# –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
./scripts/run-clang-tidy.sh --file src/utilities.cpp
```

**–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- `--auto-fix`: –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (nullptr, override, auto, range-for, etc.)
- `--fix`: –ü—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤:**
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞: –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –≤ —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
- –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è `compile_commands.json` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

##  –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º

–î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ —Å —Ñ–ª–∞–≥–æ–º `DEBUG`:

```bash
bazel build //... --copt=-DDEBUG
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

```bash
# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
./scripts/format-code.sh --fix

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (dry-run)
./scripts/format-code.sh

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
./scripts/format-code.sh --fix --file src/main.cpp

# –ß–µ—Ä–µ–∑ Bazel (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—à–∏ –∫–æ–Ω—Ñ–∏–≥–∏ .clang-format)
bazel run //:format_all
bazel run //:check_format
```

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

```bash
# –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –≤ —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞)
./scripts/run-clang-tidy.sh

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
./scripts/run-clang-tidy.sh --auto-fix

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º (—Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è!)
./scripts/run-clang-tidy.sh --fix

# –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
./scripts/run-clang-tidy.sh --file src/main.cpp

# –ß–µ—Ä–µ–∑ Bazel (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—à–∏ –∫–æ–Ω—Ñ–∏–≥–∏ .clang-tidy)
bazel run //:clang_tidy         # –¢–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑
bazel run //:clang_tidy_auto_fix # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
bazel run //:clang_tidy_fix      # –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```

**–¢–∏–ø—ã –ø—Ä–æ–±–ª–µ–º, –∏—Å–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (`--auto-fix`):**
- `modernize-use-nullptr` - –∑–∞–º–µ–Ω–∞ NULL –Ω–∞ nullptr
- `modernize-use-override` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ override
- `modernize-use-auto` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ auto –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- `modernize-loop-convert` - –∑–∞–º–µ–Ω–∞ –Ω–∞ range-based for
- `performance-*` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `readability-*` - —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞

##  –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å:** O(n log n) –≥–¥–µ n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å:** O(k * B + M) –≥–¥–µ:
  - k - —Å—Ç–µ–ø–µ–Ω—å —Å–ª–∏—è–Ω–∏—è
  - B - —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞
  - M - —Ä–∞–∑–º–µ—Ä –ø–∞–º—è—Ç–∏ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≥–æ–Ω–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

| –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö | –ü–∞–º—è—Ç—å | K-degree | –ë—É—Ñ–µ—Ä |
|---------------|--------|----------|-------|
| < 1GB         | 64MB   | 8-16     | 1024  |
| 1-10GB        | 256MB  | 16-32    | 2048  |
| > 10GB        | 1GB+   | 32-64    | 4096  |

##  –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.